# 蛍光灯シミュレーター

リアルタイムで蛍光灯の点灯プロセスをシミュレートするWebアプリケーションです。物理的に正確な蛍光灯の点灯シーケンス（ため→点灯→安定化）を視覚的に表現し、パラメータを自由に調整できます。

## 🎯 特徴

- **物理的に正確なシミュレーション**: 実際の蛍光灯の点灯プロセスを再現
- **リアルタイムプレビュー**: パラメータ変更を即座に反映
- **タイムライン編集**: ドラッグ&ドロップでアニメーションを自由にカスタマイズ
- **動画出力**: 60fps WebM形式でアニメーションをエクスポート
- **レスポンシブデザイン**: モダンなUIで使いやすいインターフェース

## 🚀 使用方法

### 基本操作

1. **ブラウザで開く**: `index.html`をダブルクリックまたはブラウザにドラッグ&ドロップ
2. **パラメータ調整**: スライダーで各値を調整
3. **リアルタイムプレビュー**: 変更が即座に蛍光灯の表示に反映

### パラメータ説明

- **点灯率 (t)**: 0.000〜1.000 - 蛍光灯の明るさ（0=消灯、1=最大明度）
- **減衰率 (σ)**: 0.005〜0.500 - 光の広がりの度合い（ピークからの減衰）
- **ピーク位置**: 0.02〜0.20 - 光のピークが現れる端からの距離
- **蛍光灯の長さ**: 0.3〜3.0 - 相対的な蛍光灯の長さ（長い場合は自動縮小）

### タイムライン操作

- **点の追加**: 空いている場所をクリック
- **点の選択**: 点をクリック（赤色で表示）
- **点の移動**: 選択した点をドラッグ
- **複数選択**: Shift + クリックで複数点を選択
- **点の削除**: 選択した点をBackspace/Deleteで削除
- **選択解除**: Escキー

### 再生コントロール

- **再生/停止**: ▶︎ボタンまたはスペースキー
- **ループ再生**: チェックボックスで有効化
- **動画出力**: 📹ボタンでWebM形式でダウンロード
- **再生時間**: 0.5〜30秒の範囲で設定可能

## 🎨 技術仕様

- **言語**: HTML5, CSS3, JavaScript (ES6+)
- **グラフィックス**: HTML5 Canvas API
- **アニメーション**: requestAnimationFrame
- **動画出力**: MediaRecorder API (WebM/VP9)
- **対応ブラウザ**: モダンブラウザ（Chrome, Firefox, Safari, Edge）

## 📁 ファイル構成

```
fluorescent_simulator/
├── index.html          # メインアプリケーションファイル
└── README.md           # このファイル
```

## 🔧 カスタマイズ

### プリセットの変更

`applyFlickerPreset()`関数内でデフォルトのアニメーションシーケンスを変更できます。

### 色の調整

`lampColorAt()`関数内で蛍光灯の色（オレンジ→黄色→白）をカスタマイズできます。

### 物理パラメータ

`phases()`関数で点灯の各段階のタイミングを調整できます。

## 🌟 使用例

1. **基本的な点灯シミュレーション**: スライダーでパラメータを調整
2. **カスタムアニメーション**: タイムラインを編集して独自の点灯パターンを作成
3. **動画作成**: 設定したアニメーションを動画として出力
4. **教育用途**: 蛍光灯の物理的な点灯プロセスを学習

---

**注意**: このシミュレーターは教育・研究目的で作成されています。実際の蛍光灯の動作とは異なる場合があります。
